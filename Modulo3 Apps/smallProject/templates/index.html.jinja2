{% extends "base.html" %}

{% block content %}
  <h1 class="title">Login Form</h1>

  <!-- Mostrar mensajes de flash (errores) -->
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <ul class="flashes">
        {% for category, message in messages %}
          <li class="{{ category }}">{{ message }}</li>
        {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}

  <form method="POST" action="/login" class="process-form">
    {{ form.hidden_tag() }}

    <div>
      <label for="username">Username:</label>
      {{ form.username(class_="form-control") }}
      {% for error in form.username.errors %}
        <p style="color: red;">{{ error }}</p>
      {% endfor %}
    </div>
    
    <div>
      <label for="password">Password:</label>
      {{ form.password(class_="form-control") }}
      {% for error in form.password.errors %}
        <p style="color: red;">{{ error }}</p>
      {% endfor %}
    </div>
    
    <div>
      {{ form.submit(class_="btn btn-primary") }}
    </div>
  </form>
{% endblock %}
